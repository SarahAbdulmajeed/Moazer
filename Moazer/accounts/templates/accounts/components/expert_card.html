<div class="glass-card-expert bg-white shadow rounded-2xl w-full h-full flex flex-col">
  <div class="rounded-2xl flex flex-col flex-grow justify-between">
    <div class="p-4 ">
      <!-- Avatar -->
      <div class="justify-self-center w-20 h-20 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center">
        <img src="{{ expert.avatar.url }}" alt="avatar" class="object-cover w-full h-full">
      </div>

      <!-- Name -->
      <h3 class="font-bold text-lg text-center mt-3 text-gray-600">{{ expert.user.get_full_name }}</h3>

      <!-- Specialization -->
      <p class="self-start text-sm text-gray-600 font-semibold">التخصص</p>
      <div class="self-start flex flex-wrap gap-2 my-2">
        {% for spec in expert.specializations.all %}
        <span class="px-2 py-1 bg-gray-100 rounded-md text-xs text-gray-700">{{ spec.name }}</span>
        {% empty %}
        <span class="text-xs text-gray-400">لا يوجد تخصصات</span>
        {% endfor %}
      </div>

      <!-- Consultation Types -->
      <p class="self-start text-sm text-gray-600 font-semibold">نوع الاستشارة</p>
      <div class="self-start flex flex-wrap gap-2 my-2">
        {% for consult in expert.consultation_types.all %}
        <span class="px-2 py-1 bg-gray-100 rounded-md text-xs text-gray-700">{{ consult.name }}</span>
        {% empty %}
        <span class="text-xs text-gray-400">لا يوجد استشارات</span>
        {% endfor %}
      </div>
    </div>

    <div>
      <!-- Statistics -->
      <div class="flex flex-col sm:flex-row items-center justify-between text-xs text-gray-500 w-full mt-3 px-2 gap-2">
        <!-- Price -->
        <div class="flex items-center gap-1">
          <span class="text-sm font-semibold text-gray-600">150</span>
          <svg class="w-4 h-4 text-gray-600 fill-current" id="Layer_1" data-name="Layer 1"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1124.14 1256.39">
            <path class="cls-1"
              d="M699.62,1113.02h0c-20.06,44.48-33.32,92.75-38.4,143.37l424.51-90.24c20.06-44.47,33.31-92.75,38.4-143.37l-424.51,90.24Z" />
            <path class="cls-1"
              d="M1085.73,895.8c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.33v-135.2l292.27-62.11c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.27V66.13c-50.67,28.45-95.67,66.32-132.25,110.99v403.35l-132.25,28.11V0c-50.67,28.44-95.67,66.32-132.25,110.99v525.69l-295.91,62.88c-20.06,44.47-33.33,92.75-38.42,143.37l334.33-71.05v170.26l-358.3,76.14c-20.06,44.47-33.32,92.75-38.4,143.37l375.04-79.7c30.53-6.35,56.77-24.4,73.83-49.24l68.78-101.97v-.02c7.14-10.55,11.3-23.27,11.3-36.97v-149.98l132.25-28.11v270.4l424.53-90.28Z" />
          </svg>
        </div>

        <!-- Stars -->
        <div class="flex items-center space-x-1 rtl:space-x-reverse">
          <div class="flex flex-row text-gray-600">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="size-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="size-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="size-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="size-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
              <path fill-rule="evenodd"
                d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z"
                clip-rule="evenodd" />
            </svg>
          </div>
        </div>
        <span class="text-gray-600">(تقييم 120)</span>
      </div>

      <div class="flex flex-col sm:flex-row gap-2 w-full mt-4 p-4">
        {% if user.is_staff %}
        {% if expert.is_approved %}
        <a href="{% url 'accounts:deactivate_expert' expert.id %}"
          class="rounded-lg text-center w-full sm:w-1/2 bg-red-500 text-white py-2  text-sm">إلغاء التفعيل</a>
        {% else %}
        <a href="{% url 'accounts:approve_expert' expert.id %}"
          class="rounded-lg text-center w-full sm:w-1/2 bg-green-500 text-white py-2  text-sm">تفعيل</a>
        {% endif %}
        {% endif %}
        {% if user.groups.all.0.name == "Students" %} 
        <a href="{% url 'consultations:create_view' expert_id=expert.user.id %}" class="rounded-lg text-center w-full sm:w-1/2 bg-[linear-gradient(300deg,_#699ac2,_#4c7596)] text-white py-2  text-sm">حجز استشارة</a> 
        {% endif %}
        {% if user.is_staff or user.groups.all.0.name == "Students" %}
        <a href="{% url 'accounts:expert_detail_view' expert.id %}" class="rounded-lg text-center w-full sm:w-1/2 bg-gray-800 text-white py-2  text-sm">الملف الشخصي</a>
        {% endif %}
      </div>
    </div>


  </div>
</div>